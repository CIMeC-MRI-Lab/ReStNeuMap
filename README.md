# ReStNeuMap v0.1
**ReStNeuMap: a tool for automatic extraction of resting state fMRI networks in neurosurgical practice.**

Zaca D [1], Jovicich J [1], Corsini F [2], Rozzanigo U [3], Chioffi F [2], Sarubbo S [2]; 

Journal of Neurosurgery (2018)

[1] Center for Mind/Brain Sciences, University of Trento, Via delle Regole 101, 38123 Trento (Italy)
[2] Division of Neurosurgery, Structural and Functional Connectivity Lab Project, S. Chiara Hospital, Trento APSS, 38122 Trento (Italy)
[3] Department of Radiology, Neuroradiology Unit, S. Chiara Hospital, Trento APSS, 38122 Trento (Italy)

## 


1. **OVERVIEW**
	1.1. Credits
	1.2. Disclaimer
	1.3. Tool structure

2. **INSTALLATION**
	2.1. Requirements
	2.2. Install

3. **SAMPLE DATASET**

4. **LICENSE**

5. **ACKNOWLEDGMENTS**


## 1. OVERVIEW

### 1.1 Credits
This software was written by Domenico Zacà , Lisa Novello, and Jorge Jovicich, at the Center for Mind/Brain Sciences, University of Trento, Italy. 
The software was validated in collaboration with Francesco Corsini, Umberto Rozzanigo, Franco Chioffi and Silvio Sarubbo.
Please send any bug reports, questions or feedback to jorge.jovicich@unitn.it. 

An accompanying manuscript has been published in the Journal of Neurosurgery. If you use our tool, please cite this work as:
Zacà  D., Jovicich J., Corsini F., Rozzanigo U., Chioffi F., and Sarubbo S., ReStNeuMap: a tool for automatic extraction of resting state fMRI networks in neurosurgical practice. Journal of Neurosurgery, 2018.

Our software uses and also provides functions from the following freely available tools:
- ArtRepair: http://cibsr.stanford.edu/tools/human-brain-project/artrepair-software.html
- AFNI functions: https://afni.nimh.nih.gov/


### 1.2 Disclaimer
This software is made available to facilitate and promote use of resting-state fMRI data for research. This software is supplied as is. No formal quality assurance checks were made on the software other than those described in the original publication (ZacÃ  et al., JNS, 2018), and no formal support or maintenance is provided or implied. 

### 1.3 Tool Structure
This tool reads two input datasets (anatomical T1 MRI and resting state fMRI, both in dicom format) and computes the visual, motor and language resting state networks, together with quality assurance metrics of the input data. For more details see Zacà et al., J. Neurosurg. 2018.

ReStNeuMap is accompanied by an anonymized sample MRI dataset (input dicoms) together with the results derived by the use of this software. This allows users to verify their own results on the same input data after installation.  

The package we distribute is composed by:
- ReStNeuMap_files, a folder containing all ReStNeuMap scripts, including scripts using ArtRepair and AFNI functions, and the ReStNeuMapNetworkTemplates folder which contains resting-state network templates. 

- Sample_data, a folder containing two subfolders, "Sample_input" with a sample dicom dataset (patient #2 in the manuscript, anonymized anatomical and resting-state fMRI dicom folders) and  "Sample_output" with the outputs generated by this software.

- Documentation in the form of this README file and a tutorial

## 2. INSTALLATION
ReStNeuMap has been tested for the following Operating Systems:
- Linux, Ubuntu 16.04
- MacOS 10.13 'High Sierra'

### 2.1 Requirements
- At least 4GB free space
- Software to install in addition to the code and files we provide:
-- Matlab R2017b (https://www.mathworks.com/products/matlab.html), with at least the following toolboxes:
--- Image Processing Toolbox
--- Statistics and Machine Learning Toolbox
-- SPM12: http://www.fil.ion.ucl.ac.uk/spm/software/spm12/
-- FSL 5.0.9 or 5.0.11: https://fsl.fmrib.ox.ac.uk/fsl/fslwiki

### 2.2. Install
To install ReStNeuMap please follow the following steps:

i) Download ReStNeuMap from the following webpage: https://r.unitn.it/en/cimec/mri/tools

ii) Extract the downloaded .zip file, open matlab and add to your matlab path the ReStNeuMap_files folder with its subfolders. You can find the ReStNeuMap_files folder within the extracted ReStNeuMap_v0.1 folder. 
To do so, browse to the ReStNeuMap_files folder in matlab's 'Current Folder' panel, right click on the ReStNeuMap_files folder, and select Add to Path > Selected Folders and Subfolders.

iii) Add with subfolders your spm12 directory to your matlab path as in the previous step.

For a guide on how to run ReStNeuMap, see the ReStNeuMap_tutorial.pdf tutorial file distributed with it.

## 3. SAMPLE DATASET
Our ReStNeuMap software is distributed with an accompanying anonymized sample dataset (http://bit.ly/ReStNeuMap-SampleData). 

The sample dataset includes 
 - input dicom folders for one subject (T1 and rsfMRI) 
 - a results folder with the expected outputs after running the ReStNeuMap pipeline on it
 - a ReStNeuMap.pdf tutorial file

In more details, you can find:
- the (your path)/ReStNeuMap_v0.1/Sample_data/Sample_input folder containing the following folders: 
	-- anatomy_dicom, containing sample anatomical dicom
	-- rsfmri_dicom, containing sample resting-state dicom

- the (your path)/ReStNeuMap_v0.1/Sample_data/Sample_output folder containing the following folders:
	-- QualityAssuranceMetrics, containing quality assurance metrics files computed by ReStNeuMap;
	-- ProcessDir, containing sample patient's resting-state networks and other files described in more detail in ReStNeuMap tutorial; 
	-- ReStNeuMapv0.1_log.txt, a sample log containing system hardware and OS info for debugging purposes.
 
 ## 4. LICENSE
 ReStNeuMap is free software, distributed under the terms of the GNU General Public Licence as published by the Free Software Foundation. Further details on "copyleft" can be found at http://www.gnu.org/copyleft/.

## 5. ACKNOWLEDGMENTS
We would like to acknowledge Lisa Novello for help in developing, documenting and testing this software as well as Pietro Astolfi, Giuliano Giari, Vittorio Iacovella, Philipp Schwedhelm, Davide Tabarelli, and Yangwen Xu for their help on final testing. 

This work was supported by the CARITRO FOUNDATION within the "Bando 2015 per progetti di  ricerca scientifica svolti da giovani ricercatori" (University of Trento, Trento, Italy). 

